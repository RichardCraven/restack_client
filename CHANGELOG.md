# Change Summary - December 5, 2025

## UI and Animation
- Improved spin attack arc animation for fighters (especially Soldier):
  - AnimationManager and Soldier AI now support dynamic 3-tile arcs, hitting multiple enemies in adjacent tiles.
  - Added sword arc orbit and spin keyframes to `monster-battle.scss`.
  - AnimationTile component now visually animates sword arcs and debug tile hits.
- Fighter and monster death animations updated: removed blur effect for clarity.

## Combat Logic
- CombatManager: Critical hits are now disabled for more predictable damage.
- CrewManager: Soldier base HP increased to 1000 for better survivability.
- MonsterBattle: Dead combatants are removed from the DOM after a delay, improving UI responsiveness.

## Refactoring and Debug
- Removed most console.log/debug output from major components (App, CombatSimulator, CrewManagerPage, DungeonView, UserManagerPage) for cleaner production logs.
- AnimationTile and AnimationManager refactored for better modularity and animation control.

## Styles
- Added debug-animation classes and transitions to App.scss for tile animation debugging.
- Improved animation keyframes and visual feedback in monster-battle.scss.

## Miscellaneous
- UserManagerPage: Cleaned up user table and removed debug logs.
- DungeonView: Refactored click handlers and removed debug output.

---

# Monk Teleport Visual Effect Refactor (December 15, 2025)

## Teleporting Flow
- The Monk's teleport visual effect is now triggered only when the Monk actually teleports (i.e., when the Monk AI calls `teleportToBackLine`).
- The UI is notified of the teleport event via a callback mechanism: `teleportToBackLine` accepts an optional callback, which is set by the UI (MonsterBattle.js) to update the `teleportingFighterId` state.
- This ensures the teleport animation is only shown for the correct fighter and only at the moment of actual teleportation, not when the "dragon punch" special is selected.
- The callback is safely defined as a no-op by default in Monk.js, and is overridden by the UI as needed.

**Files changed:**
- src/pages/sub-views/MonsterBattle.js
- src/utils/fighter-ai/profiles/Monk.js
- src/utils/shared-ai-methods/movement-methods.js

**Summary generated by GitHub Copilot on December 15, 2025.**
